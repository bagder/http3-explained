# TCP или UDP?
Если мы не можем исправить проблему head-of-line блокировки с TCP,
то теоретически мы должны быть в состоянии создать новый транспортный
протокол следующий за UDP и TCP в сетевом стеке. Или, возможно, даже
использовать [SCTP](https://ru.wikipedia.org/wiki/SCTP) — транспортный
протокол стандартизированный IETF в [RFC 4960](https://tools.ietf.org/html/rfc4960)
с несколькими искомыми характеристиками.

Однако в последние годы усилия по созданию новых транспортных протоколов были почти
полностью прекращены из-за трудностей с их развертыванием в Интернете. Развертыванию
новых протоколов препятствует множество брандмауэров, NAT, маршрутизаторов и других
промежуточных устройств, которые позволяют развертывать только TCP или UDP между
пользователями и серверами, к которым необходимо подключиться. Введение другого
транспортного протокола приведёт к сбою N% соединений, потому что они блокируются
устройствами, которые принимают только UDP или TCP, и, следовательно, каким-то
образом являются неправильным решением. Ведь частота отказов N% часто считается
слишком высоким числом, чтобы это стоило затраченных усилий.

Кроме того, изменение вещей на уровне транспортных протоколов сетевого
стека обычно означает, что ядрам операционных систем нужно реализовать эти изменения.
Обновление и развертывание новых ядер операционной системы является медленным процессом,
требующий значительных усилий. Многие усовершенствования TCP, стандартизированные IETF,
широко не внедряются и не используются, поскольку они широко не поддерживаются.


## Почему не SCTP поверх UDP?
SCTP — это надежный транспортный протокол с потоками, и для WebRTC даже существуют
реализации, использующие его поверх UDP.

Но SCTP был сочтён недостаточно хорошим вариантом как альтернатива QUIC по нескольким
причинам указанным ниже:

 - SCTP не устраняет проблему head-of-line блокировки для потоков.
 - SCTP требует, чтобы количество потоков определялось при начальной настройке соединения.
 - SCTP не имеет надежной истории безопасности с TLS.
 - SCTP имеет 4-стороннее рукопожатие, QUIC предлагает 0-RTT.
 - QUIC является байтовым потоком, подобным TCP, в то же время SCTP основан на передачи сообщений.
 - QUIC-соединения могут мигрировать между IP-адресами, но SCTP не способен.

Более подробную информацию о различиях можно найти на сайте IETF — [Разница между SCTP и
QUIC](https://tools.ietf.org/html/draft-joseph-quic-comparison-quic-sctp-00).
