# HTTP/3与HTTP/2的比较

HTTP/3基于QUIC设计，QUIC是一个自己管理流的传输层协议。

HTTP/2基于TCP设计，所以HTTP/2在HTTP层管理流。

## 相似点

这两个协议对客户端提供实质上相同的特性。

- 都提供数据流

- 都提供服务器端推送

- 都有头部压缩，QPACK和HPACK的设计非常类似

- 都通过单一连接上的数据流提供复用

- 都提供数据流的优先度设置

## 不同点

这两个协议主要不同在细节上，不同之处主要由QUIC引起。

- 得益于QUIC的0-RTT握手，HTTP/3可以提供更好的早期数据服务，而TCP快速打开和TLS只能传输少量数据，而且经常有问题。

- 得益于QUIC，HTTP/3的握手速度比TCP+TLS快得多。

- HTTP/3没有明文的不安全版本。尽管很少见，HTTP/2还是可以不使用HTTPS的。

- 通过ALPN拓展，HTTP/2可以直接在TLS握手时进行协商。HTTP/3使用QUIC，所以需要 `Alt-Svc:` 头部来向客户端宣告版本。
